<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jjack-users] JNA binding
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jjack-users/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:jjack-users%40lists.berlios.de?Subject=Re%3A%20%5Bjjack-users%5D%20JNA%20binding&In-Reply-To=%3Cf4ca5a5a0906200704u67b27003s608d013f34dc1508%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000114.html">
   <LINK REL="Next"  HREF="000116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jjack-users] JNA binding</H1>
    <B>Neil C Smith</B> 
    <A HREF="mailto:jjack-users%40lists.berlios.de?Subject=Re%3A%20%5Bjjack-users%5D%20JNA%20binding&In-Reply-To=%3Cf4ca5a5a0906200704u67b27003s608d013f34dc1508%40mail.gmail.com%3E"
       TITLE="[jjack-users] JNA binding">neilcsmith.net at googlemail.com
       </A><BR>
    <I>Sat Jun 20 16:04:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000114.html">[jjack-users] JJack native client redesign proposal for future 0.4	release
</A></li>
        <LI>Next message: <A HREF="000116.html">[jjack-users] JNA binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

Firstly, a big thank you to those who've put time into developing JJack -
I've been using JJack happily for a few projects until now.  However on a
current project I'm working on I was coming across some issues to do with
the single client limitation, lack of access to the full Jack API and
deployment problems.  Having been an occasional reader, rather than a
subscriber, to this list I'd missed some of the recent development
discussions addressing some of these concerns.  Hopefully this message will
still be of some interest.

I had decided a while back to experiment with a JNA binding to Jack, and
finally got around to looking at this yesterday.  I used JNAerator to create
the majority of the Java interface from the Jack header files, though they
needed some tweaking by hand and are not feature complete yet - will add
MIDI and Transport code ASAP - as I concentrated on getting the audio stuff
working.  Anyway, after a couple of hours of tweaking, I've got some working
code to access Jack and a simple audio client interface to test this.  I was
a bit wary that the extra overhead of JNA vs custom JNI might make this
unfeasible, but am pleasantly surprised by the results.  Have tried it on
two different Linux setups, one running with a realtime kernel, and it all
seems to run nicely.  JNA should pick up the Mac and Windows libs
automatically but it's not something I can test.  I haven't done any real
benchmarking, but on the realtime kernel machine there appears to be about a
3-5% CPU difference above JJack, however this is only an 800MHz tablet
(Indamixx) so on something with a bit more grunt it should be less
noticeable.  It also happily runs with RT privileges, without any XRuns.

I've put the test code as is up at
<A HREF="http://code.google.com/p/java-audio-utils/">http://code.google.com/p/java-audio-utils/</A>  - bear in mind it's a bit untidy
and undocumented though! :-)  I have no intention of trying to compete with
the scope of JJack for this, but will probably look to improve it as a bare
bones wrapper for my own needs.  However, I wonder if this approach might be
of interest for future development of JJack - even if not for the process
callback if the overhead is thought to be too much, it might be an easier
way of adding full access to the rest of the Jack API.

Best wishes,

Neil

-- 
Neil C Smith
Sound &amp; InterMedia Artist / Arts &amp; Technology Adviser
<A HREF="http://neilcsmith.net">http://neilcsmith.net</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/jjack-users/attachments/20090620/acfde133/attachment.html">https://lists.berlios.de/pipermail/jjack-users/attachments/20090620/acfde133/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000114.html">[jjack-users] JJack native client redesign proposal for future 0.4	release
</A></li>
	<LI>Next message: <A HREF="000116.html">[jjack-users] JNA binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jjack-users">More information about the jjack-users
mailing list</a><br>
</body></html>
