<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jjack-users] v04-proposal update
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jjack-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:jjack-users%40lists.berlios.de?Subject=Re%3A%20%5Bjjack-users%5D%20v04-proposal%20update&In-Reply-To=%3C319073BB-0244-4306-84F8-856B4B74B64F%40icarus.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jjack-users] v04-proposal update</H1>
    <B>Oliver Bown</B> 
    <A HREF="mailto:jjack-users%40lists.berlios.de?Subject=Re%3A%20%5Bjjack-users%5D%20v04-proposal%20update&In-Reply-To=%3C319073BB-0244-4306-84F8-856B4B74B64F%40icarus.nu%3E"
       TITLE="[jjack-users] v04-proposal update">ollie at icarus.nu
       </A><BR>
    <I>Tue Jan  5 14:29:34 CET 2010</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000127.html">[jjack-users] JJack and Jack compilation and linking on different	OS X systems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#126">[ date ]</a>
              <a href="thread.html#126">[ thread ]</a>
              <a href="subject.html#126">[ subject ]</a>
              <a href="author.html#126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Mac OS X JJackers,

I've been using JJack in a long-distance collaboration. My  
collaborator is running my Java audio app on his MacBook Pro (Core 2  
Duo running Leopard and Java 6). He has the latest Jack installed. The  
app will also have to run on a couple of other Macs which might have  
slightly different specs.

I keep running into the same old problem. I send him a Java 6 compiled  
version of jjack.jar with a universal binary compiled version of  
libjjack.jnilib. I built these myself by modifying the jjack build  
file so that the target Java is 1.6 and the gcc command for the OS X  
native library includes both i386 and x86_64 architectures. I am  
putting jjack.jar and libjjack.jnilib into a single directory called  
lib which I make sure is in my Java classpath and also the Java native  
library path.

For example, I have...

myProject.jar
lib/jjack.jar
lib/libjjack.jnilib

Then I run the program with...

java -jar -cp lib/jjack.jar -Djava.library.path=lib myProject.jar

This works fine on my machine (Core 2 Duo running SnowLeopard and Java  
6), but not on his.

Can anybody tell me what I can be doing to GUARANTEE that when I send  
him a zip file with a script in it it will run on his machine? The  
JJack library seems to adopt a perfectly sensible rule for finding the  
native library. The jnilib appears to be universal binary, and on my  
system this is sufficient to ensure that the library is found. Is  
there a difference in the way different Java versions do the loading?  
Is System.loadLibrary(&quot;jjack&quot;), combined with -Djava.library.path=lib  
enough to ensure I find libjjack.jnilib?

Could the 64-bit-ness of Snow Leopard versus the 32-bit-ness of  
Leopard be the problem?

On a related note, typing &quot;arch&quot; on my machine gives me i386, but  
System.getProperty(&quot;os.arch&quot;) in Java returns x86_64.

Apologies if this goes beyond the realm of a JJack question into  
general JNI problems. Any help would be much appreciated though. It  
might be that the build file could be modified to get a more  
idiotproof library.

Cheers,

Ollie Bown

On 27/07/2009, at 3:28 AM, Peter Brinkmann wrote:

&gt;<i>
</I>&gt;<i> Hello everybody,
</I>&gt;<i> I made a few more changes to the native client API.  In particular,  
</I>&gt;<i> connection management is now more flexible than before; you can  
</I>&gt;<i> connect or disconnect entire ranges of ports at any time.  The  
</I>&gt;<i> original functionality of JJACK remains unchanged, but a few methods  
</I>&gt;<i> in JJackNativeClient.java have changed.  I believe that the new API  
</I>&gt;<i> factors things more cleanly than the previous version; if you prefer  
</I>&gt;<i> the previous version, please let me know.
</I>&gt;<i> Best,
</I>&gt;<i>      Peter
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jjack-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/jjack-users">jjack-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/jjack-users">https://lists.berlios.de/mailman/listinfo/jjack-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000127.html">[jjack-users] JJack and Jack compilation and linking on different	OS X systems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#126">[ date ]</a>
              <a href="thread.html#126">[ thread ]</a>
              <a href="subject.html#126">[ subject ]</a>
              <a href="author.html#126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jjack-users">More information about the jjack-users
mailing list</a><br>
</body></html>
